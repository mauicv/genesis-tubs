{"version":3,"sources":["webpack:///./src/views/games/particles/js/particleTypes.js","webpack:///./src/views/games/particles/js/features.js","webpack:///./src/views/games/particles/js/build.js"],"names":["particleTypes","color","name","radius","gm","engine","GeneralMethods","cr","CollisionResponse","Feature","CollisionChecker","interactions","A","B","D","E","interactionLaws","interaction","structure1","structure2","interactionStrength","stuff","v","undefined","x","elements","y","colVector","norm","minus","update_x_xd","mult","reports","checkProximityTo","forEach","report","depth","particleResponse","Law","lawInstances","createEnvironment","ctx","builder","Builder","enviro","returnEnviro","i","Math","random","canvas","height","width","addParticle","points","point","structure","addStructure","particles","floor","laws","bowl","structures","Features","features","push","createRunner","animationRef","draw","run","timeStep","window","requestAnimationFrame","stop","cancelAnimationFrame","destroy","cleanEnvironment"],"mappings":"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","file":"js/chunk-8903ec8e.566fd6a1.js","sourcesContent":["export default {\n  particleTypes: [\n    {\n      color: \"#24c4a9\",\n      name: \"A\",\n      radius: 4\n    },\n    {\n      color: \"#a9c524\",\n      name: \"B\",\n      radius: 4\n    },\n    {\n      color: \"#c5242d\",\n      name: \"D\",\n      radius: 2\n    },\n    {\n      color: \"#29c524\",\n      name: \"E\",\n      radius: 2\n    },\n    {\n      color: \"#12debc\",\n      name: \"F\"\n    }\n  ]\n};\n","import engine from \"genesis-tubs-engine\";\nconst gm = engine.GeneralMethods;\nconst cr = engine.CollisionResponse;\nconst cc = engine.CollisionChecker;\nconst Feature = engine.Feature;\nimport particles from \"./particleTypes.js\";\n////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nvar interactions = {\n  A: {\n    A: 0.1,\n    B: -0.03,\n    D: 0.01,\n    E: 0.01\n  },\n  B: {\n    B: 0.1,\n    A: -0.03,\n    D: 0.01,\n    E: 0.01\n  },\n  D: {\n    A: 0,\n    B: 0.1,\n    D: 0.05,\n    E: -0.05\n  },\n  E: {\n    A: 0.1,\n    B: 0,\n    D: -0.05,\n    E: 0.05\n  }\n};\n\nexport default {\n  interactionLaws: (function() {\n    var interactionLaws = new Feature(\"interactionLaws\");\n    interactionLaws.interaction = function(structure1, structure2) {\n      var interactionStrength =\n        interactions[structure1.stuff.v.name][structure2.stuff.v.name];\n      if (interactionStrength != undefined) {\n        interactionStrength = interactionStrength * 0.00005;\n        var x = structure1.elements[0].x;\n        var y = structure2.elements[0].x;\n        var colVector = gm.norm(gm.minus(x, y));\n        //update x & y:\n\n        structure1.elements[0].update_x_xd(\n          gm.mult(colVector, -interactionStrength)\n        );\n        structure2.elements[0].update_x_xd(\n          gm.mult(colVector, interactionStrength)\n        );\n\n        // structure1.stuff.v = types.find(p=>p.name == interactionType)\n        // structure2.stuff.v = types.find(p=>p.name == interactionType)\n      }\n\n      var reports = structure1.checkProximityTo(structure2, 0);\n      reports.forEach(function(report) {\n        if (\n          report.depth < 0 &&\n          structure1.stuff.v.name != \"D\" &&\n          structure2.stuff.v.name != \"D\" &&\n          structure1.stuff.v.name != \"E\" &&\n          structure2.stuff.v.name != \"E\"\n        ) {\n          cr.particleResponse(report);\n        }\n      });\n    };\n    return interactionLaws;\n  })()\n};\n","import engine from \"genesis-tubs-engine\";\nconst Law = engine.lawInstances;\nimport Features from \"./features.js\";\nimport particles from \"./particleTypes.js\";\n\nexport default {\n  // Setup physics environment\n  createEnvironment: function(ctx) {\n    var builder = new engine.Builder();\n    var enviro = builder.returnEnviro();\n\n    // ctx.canvasTop\n    // ctx.canvasLeft\n\n    for (var i = 0; i < 120; i++) {\n      var y = Math.random() * ctx.canvas.height;\n      var x = Math.random() * ctx.canvas.width;\n      builder.addParticle([x, y], 4, [0, 0]);\n    }\n\n    enviro.points.forEach(point => {\n      var structure = builder.addStructure([point], []);\n      structure.stuff.v =\n        particles.particleTypes[Math.floor(Math.random() * 4)];\n    });\n\n    enviro.laws.bowl = Law[\"bowl\"](\n      [ctx.canvas.width / 2, ctx.canvas.height / 2],\n      2\n    );\n    enviro.laws.bowl.structures = enviro.structures;\n\n    var interactions = Features.interactionLaws;\n    enviro.structures.forEach(function(structure) {\n      structure.features.push(interactions);\n    });\n    // enviro.timeStep();\n    return enviro;\n  },\n\n  createRunner: function(ctx, enviro) {\n    var draw = ctx.draw;\n    var animationRef;\n\n    function run() {\n      enviro.timeStep();\n      draw(enviro);\n      animationRef = window.requestAnimationFrame(run);\n    }\n\n    function stop() {\n      window.cancelAnimationFrame(animationRef);\n    }\n\n    function destroy() {\n      stop();\n      enviro.builder.cleanEnvironment();\n      // enviro = null;\n      animationRef = null;\n    }\n\n    return {\n      run: run,\n      stop: stop,\n      destroy: destroy\n    };\n  }\n};\n"],"sourceRoot":""}