(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bc55e7a"],{"0a4b":function(t,n,e){const i=e("b503"),s=(i.getModule("GeneralMethods"),i.getModule("Link")),o=i.getModule("Constraint");t.exports=class extends o{constructor(t,n,e,i,o){super(!0,!1,"joint",o),this.link1=t,this.link2=n,this.degOfFreedom1=e,this.degOfFreedom2=i,this.from=t.belongsTo,this.to=n.belongsTo,this.zeroLink=new s(t.to,n.to,!0,!1),this.angle=this.getAngle(),this.rigidityConstant=.5}getAngle(){return this.link2.intersectAngleTo(this.link1)}bend(t){this.link1.rotAroundToBy(t*(this.link2.length/(this.link1.length+this.link2.length))),this.link1.rotAroundFromBy(t*(this.link2.length/(this.link1.length+this.link2.length))),this.link2.rotAroundToBy(-t*(this.link1.length/(this.link1.length+this.link2.length))),this.link2.rotAroundFromBy(-t*(this.link1.length/(this.link1.length+this.link2.length)))}effect(){this.active&&this.alive&&(this.zeroLink.effect(),this.bend(this.rigidityConstant*(this.getAngle()-this.angle)))}}},"0e0a":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=(i.getModule("Link"),i.getModule("Constraint"));t.exports=class extends o{constructor(t,n,e){super(!0,!1,"angleLink",e),this.link1=t,this.link2=n,this.angle=this.getAngle(),this.rigidityConstant=.1}getAngle(){return s.clockwiseAngleBetween(this.link1.vector(),s.neg(this.link2.vector()))}bend(t){this.link1.rotAroundToBy(t*(this.link2.length/(this.link1.length+this.link2.length))),this.link1.rotAroundFromBy(t*(this.link2.length/(this.link1.length+this.link2.length))),this.link2.rotAroundToBy(-t*(this.link1.length/(this.link1.length+this.link2.length))),this.link2.rotAroundFromBy(-t*(this.link1.length/(this.link1.length+this.link2.length)))}effect(){this.active&&this.alive&&this.bend(this.rigidityConstant*(this.getAngle()-this.angle))}}},"1bd4":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=i.getModule("Constraint");t.exports=class extends o{constructor(t,n,e,i,o){super(e,i,"link",o),this.from=t,this.to=n,this.length=s.size(t.x,n.x),this.springConstant=.05}toJSON(){var t={index:this.index};return t}perpDistance(t){return s.dot(s.minus(t,this.from.x),s.dev(s.perp(s.minus(this.to.x,this.from.x)),this.length))}horiDistance(t){return s.dot(s.minus(t,this.from.x),s.dev(s.minus(this.to.x,this.from.x),this.length))}distanceFrom(t){return s.len(this.perpDistance(t),this.horiDistance(t))}intersectAngleTo(t){var n=this.getLength()*t.getLength(),e=s.dot(s.minus(t.to.x,t.from.x),s.minus(this.to.x,this.from.x)),i=e/n;return i>1?i=1:i<-1&&(i=-1),this.perpDistance(t.from.x)>0?Math.acos(i):2*Math.PI-Math.acos(i)}vectorNorm(){return s.dev(s.minus(this.from.x,this.to.x),this.length)}vector(){return s.minus(this.to.x,this.from.x)}perpVectorNorm(){return s.dev(s.perp(s.minus(this.from.x,this.to.x)),this.length)}rotAroundFromBy(t){var n=s.rot(t,s.minus(this.to.x,this.from.x));this.to.setLocation(s.add(this.from.x,n))}rotAroundToBy(t){var n=s.rot(t,s.minus(this.from.x,this.to.x));this.from.setLocation(s.add(this.to.x,n))}effect(){if(this.active&&this.alive){var t=s.minus(this.to.x,this.from.x),n=s.dot(t,t);n>0&&(t=s.mult(t,.5-this.length*this.length/(n+this.length*this.length)),this.from.update_x_xd(t),this.to.update_x_xd(s.neg(t)))}}stressMeasure(){var t=s.minus(this.to.x,this.from.x),n=.5*(this.length-s.len(t));return t=s.mult(s.norm(t),n),[n,t]}stressResponse(t){this.from.update_x_xd(s.neg(t)),this.to.update_x_xd(t)}getLength(){if(this.length>0){var t=s.minus(this.from.x,this.to.x);return.5*(this.length*this.length+s.dot(t,t))/this.length}return s.size(this.from.x,this.to.x)}setLength(){this.length=s.size(this.from.x,this.to.x)}kill(){this.from.kill(),this.to.kill(),this.alive=!1}}},"1c1b":function(t,n,e){const i=e("b503"),s=e("3e8f");t.exports={save:function(t,n){var e=JSON.stringify(t,n);s.writeFile(n,e,t=>{if(t)throw t;console.log("file saved!")})},load:function(t){var n=window.location.pathname,e=n.substring(0,n.lastIndexOf("/"));""!=e&&(e=`${e}/`);var i=s.readFileSync(`${e}${t}`,"utf8");return this.parse(i)},parse:function(t){i.getModule("SpaceTime");const n=i.getModule("Builder"),e=(i.getModule("featureInstances"),i.getModule("lawInstances"));return data=JSON.parse(t),build=new n,data.points.forEach((function(t){"point"==t.type&&build.addPoint(t.x)})),data.convexSets.forEach((function(t){var n=t.pointIndices.map(t=>build.environment.points[t]);build.addConvexSet(n)})),data.constraints.forEach((function(t){if("glue"==t.type){var n=build.environment.convexSets[t.from],e=build.environment.convexSets[t.to];build.addGlueBetweenConvexSets(n,e)}else if("joint"==t.type){n=build.environment.convexSets[t.from],e=build.environment.convexSets[t.to];build.addJointBetweenConvexSets(n,e)}else"beam"==t.type&&build.addBeam(build.environment.points[t.from],build.environment.points[t.to],t.forceUpperBound,t.forceLowerBound,t.compLowerBound,t.resistance)})),data.structures.forEach((function(t){var n=t.elements.map(t=>build.environment.convexSets[t]);build.addStructure(n,[])})),data.laws.forEach((function(t){build.environment.laws[t]=e[t]})),data.relPoints.forEach((function(t){build.addRelPoint(t.x,build.environment.constraints[t.anchor])})),data.graphics.forEach((function(t){build.addLine(build.environment.relPoints[t.from],build.environment.relPoints[t.to])})),build.buildOrderArrays(),build.environment},loadGTBFormat:function(t){var n=window.location.pathname,e=n.substring(0,n.lastIndexOf("/"));""!=e&&(e=`${e}/`);var i=s.readFileSync(`${e}${t}`,"utf8");return this.parseGTBFormat(i)},parseGTBFormat(t){i.getModule("SpaceTime");const n=i.getModule("Builder");i.getModule("featureInstances"),i.getModule("lawInstances");data=JSON.parse(t),build=new n;var e={};Object.values(data).filter(t=>"Point"==t.type).forEach(t=>e[t.uuid]=build.addPoint(t.x));var s=[];return Object.values(data).filter(t=>"ConvexSet"==t.type).forEach(t=>{var n=t.lines.map(t=>data[t]).map(t=>e[t.from]),i=build.addConvexSet(n);e[t.uuid]=i,s.push(t)}),Object.values(data).filter(t=>"Beam"==t.type).forEach(t=>{var n=e[t.from],i=e[t.to];e[t.uuid]=build.addBeam(n,i,null,null,null)}),Object.values(data).filter(t=>"Joint"==t.type).forEach(t=>{var n=s.filter(n=>n.joints.includes(t.uuid)).map(t=>e[t.uuid]);e[t.uuid]=build.addJointBetweenConvexSets(...n)}),Object.values(data).filter(t=>"Glue"==t.type).forEach(t=>{var n=s.filter(n=>n.glues.includes(t.uuid)).map(t=>e[t.uuid]);build.addGlueBetweenConvexSets(...n)}),Object.values(data).filter(t=>"Structure"==t.type).forEach(t=>{var n=t.sets.map(t=>e[t]);build.addStructure(n,[])}),Object.values(data).filter(t=>"Graphic"==t.type).forEach(t=>{var n=s.filter(n=>n.graphics.includes(t.uuid)).map(t=>e[t.uuid])[0],i=n.links[0];t.lines.forEach(t=>{var n=build.addRelPoint(data[data[t].from].x,i),e=build.addRelPoint(data[data[t].to].x,i);build.addLine(n,e)})}),build.environment}}},"1ecf":function(t,n){t.exports=class{constructor(t){this.name="",this.index=t,this.active=!0,this.alive=!0,this.belongsTo=null,this.enviroment=null,this.x=[],this.radius=0}}},"22f4":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=i.getModule("Primative");t.exports=class extends o{constructor(t,n,e){super(n),this.x=t.slice(0),this.anchor=e,this.xRelToAnchor=[-e.horiDistance(t),-e.perpDistance(t)]}toJSON(){var t={type:"relPoint",index:this.index,x:this.x,anchor:this.anchor.index};return t}update_x(){var t=s.add(s.mult(this.anchor.vectorNorm(),this.xRelToAnchor[0]),s.mult(this.anchor.perpVectorNorm(),this.xRelToAnchor[1]));this.x=s.add(this.anchor.from.x,t)}update_x_xd(t){this.x=s.add(this.x,t)}setLocation(t){this.x=t}fixTo(t){this.anchor=t.elements[0].links[0],this.xRelToAnchor=[-this.anchor.horiDistance(this.x),-this.anchor.perpDistance(this.x)]}}},"26f1":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=i.getModule("ConvexSet"),r=i.getModule("Particle"),u=i.getModule("CollisionChecker");i.getModule("CollisionResponse");t.exports=class{constructor(t){this.name=t,this.active=!0}toJSON(){var t={name:this.name};return t}multiScan(t,n,e){var i,a=[];this.CheckBoundingRect(t,n)&&t.elements.forEach((function(t){n.elements.forEach((function(n){t instanceof o&&n instanceof o?i=u.convexTest(t.links,n.links):t instanceof r&&n instanceof o?(i=u.xToB(t,n.links),i.depth=i.depth-t.radius):t instanceof o&&n instanceof r?(i=u.xToB(n,t.links),i.depth=i.depth-n.radius):t instanceof r&&n instanceof r&&(i={type:"p2p",point1:t,point2:n,depth:s.size(t.x,n.x)-n.radius-t.radius}),i.depth<e&&a.push(i)}))}));return a}CheckBoundingRect(t,n){return!t.stuff.hasBoundingRect||!n.stuff.hasBoundingRect||!(s.pos(t.stuff.center.x[0]-n.stuff.center.x[0])-t.stuff.r[0]-n.stuff.r[0]>0)&&!(s.pos(t.stuff.center.x[1]-n.stuff.center.x[1])-t.stuff.r[1]-n.stuff.r[1]>0)}}},"34ee":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=i.getModule("Primative");t.exports=class t extends o{constructor(t,n,e){super(n),this.x=t.slice(0),this.x_old=t.slice(0)}toJSON(){var t={type:"point",x:this.x,x_old:this.x_old,active:this.active,index:this.index};return t}copy(n){var e=new t(this.x,n,this.active);return e}update_v(){if(this.active&&this.alive){var t=s.minus(this.x,this.x_old);this.x=s.add(this.x,t),this.x_old=s.add(this.x_old,t)}}update_x_xd(t){this.active&&this.alive&&(this.x=s.add(this.x,t))}update_x_old_xd(t){this.active&&this.alive&&(this.x_old=s.add(this.x_old,t))}findCenter(){return this.x}move(t){this.x[0]=this.x[0]+t[0],this.x[1]=this.x[1]+t[1],this.x_old[0]=this.x_old[0]+t[0],this.x_old[1]=this.x_old[1]+t[1]}setLocation(t){this.x=t}setLocationOld(t){this.x_old=t}setStatic(){this.active=!1}setActive(){this.active=!0}rotAround(t,n){if(this.active&&this.alive){var e=s.rot(n,s.minus(this.x,t.x));this.setLocation(s.add(t.x,e))}}distanceFrom(t){return s.size(t,this.x)}kill(){this.alive=!1}}},"3be1":function(t,n,e){const i=e("b503"),s=["SpaceTime","AngleLink","Beam","Constraint","Glue","Joint","Link","Builder","SL","Feature","featureInstances","GeneralMethods","Law","lawInstances","CollisionChecker","CollisionResponse","ConvexSet","Line","Particle","Point","Primative","RelPoint","Structure"];s.forEach((function(n){t.exports[n]=i.getModule(n)}))},"3d50":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=i.getModule("Point"),r=i.getModule("ConvexSet");t.exports=class t extends o{constructor(t,n,e,i){super(t,n,e),this.x=t.slice(0),this.x_old=s.minus(t,n),this.radius=i,this.belongsTo=[]}toJSON(){}checkProximityTo(n){return n instanceof r?cc.xToB(n.links,this):n instanceof t?{type:"p2p",point1:this,point2:n,depth:s.size(this.x,n.x)-this.radius-n.radius}:void 0}}},"3e8f":function(t,n){},"4c1f":function(t,n,e){const i=e("b503"),s=(i.getModule("GeneralMethods"),i.getModule("CollisionChecker"),i.getModule("CollisionResponse")),o=i.getModule("Feature");t.exports={mass:function(){var t=new o("mass");return t.interaction=function(t,n){var e=t.checkProximityTo(n,0);e.forEach((function(t){"c2c"==t.type||"p2c"==t.type?s.responseWithStickyRisistance(t,.1,.1):(t.type="p2p")&&s.particleResponse(t)}))},t}(),earthed:function(){var t=new o("earthed");return t.interaction=function(n,e){if("earth"==n.name||"earth"==e.name){var i=t.multiScan(n,e,0);i.forEach((function(t){"c2c"==t.type||"p2c"==t.type?s.classicalResponse(t):(t.type="p2p")&&s.particleResponse(t)}))}},t}(),resistantMass:function(){var t=new o("resistantMass");return t.interaction=function(n,e){var i=t.multiScan(n,e,0);i.forEach((function(t){"c2c"==t.type||"p2c"==t.type?s.responseWithRisistance(t,.1):(t.type="p2p")&&s.particleResponse(t)}))},t}(),stickyResistantMass:function(){var t=new o("resistantMass");return t.interaction=function(n,e){var i=t.multiScan(n,e,1);i.forEach((function(t){"c2c"==t.type||"p2c"==t.type?s.responseWithStickyRisistance(t,.01,.01):"p2p"==t.type&&s.particleResponse(t)}))},t}(),exploding:function(){var t=new o("exploding");return t.interaction=function(n,e){var i=t.multiScan(n,e,1);i.forEach((function(t){t.depth<-6&&[n,e].forEach((function(t){var n=t.environment.builder;t.elements.forEach((function(e){e.glues.forEach((function(t){t.off()}));var i=[];t.features.forEach((function(t){"exploding"!=t.name&&i.push(t)})),n.addStructure([e],i)})),n.deleteStructure(t)}))}))},t}()}},"51ce":function(t,n,e){const i=e("b503"),s=i.getModule("ConvexSet"),o=i.getModule("Particle");t.exports=class{constructor(t){this.name=t,this.active=!0,this.structures=[],this.environment=null}toJSON(){var t={name:this.name,structures:this.structures};return t}applyToAllPoints(t){this.structures.forEach((function(n){n.elements.forEach((function(n){n instanceof s?n.links.forEach((function(n){t(n.from)})):n instanceof o&&t(n)}))}))}applyToStructures(t){this.structures.forEach((function(n){t(n)}))}}},"64b6":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=(i.getModule("CollisionChecker"),i.getModule("Primative")),r=i.getModule("ConvexSet"),u=i.getModule("Particle");t.exports=class extends o{constructor(t,n){super(n),this.elements=t,this.features=[],this.stuff={hasBoundingRect:!1}}toJSON(){var t={elements:this.elements.map(t=>t.index),features:this.features.map(t=>t.name)};return t}addElement(t){this.elements.push(t),t.belongsTo=this}interaction(t){this.features.forEach((function(n){t.features.forEach((function(e){n.name==e.name&&n.interaction(t,this)}),this)}),this)}getElementIndices(){var t=this.elements.map(t=>t.index);return t}fix(){this.elements.forEach((function(t){t.fix()}))}kill(){this.elements.forEach((function(t){t.kill()}))}findCenter(){var t=[0,0];return this.elements.forEach((function(n){n instanceof r?t=s.add(t,n.findCenter()):n instanceof u&&(t=s.add(t,n.findCenter()))})),s.dev(t,this.elements.length)}findBoundingRect(){var t=this.findCenter(),n=0,e=[0,0];return this.elements.forEach((function(i){i instanceof r&&i.links.forEach((function(i){e=s.size(i.from.x,t),e>n&&(n=e)}))})),[t,[n,n]]}checkProximityTo(t,n){var e=[];return this.CheckBoundingRect(t)&&this.elements.forEach((function(i){t.elements.forEach((function(t){var s=i.checkProximityTo(t);s.depth<n&&(s.collisionPair=[i,t],e.push(s))}))})),e}CheckBoundingRect(t){return!this.stuff.hasBoundingRect||!t.stuff.hasBoundingRect||!(s.pos(this.stuff.center.x[0]-t.stuff.center.x[0])-this.stuff.r[0]-t.stuff.r[0]>0)&&!(s.pos(this.stuff.center.x[1]-t.stuff.center.x[1])-this.stuff.r[1]-t.stuff.r[1]>0)}nudge(t){this.elements.forEach((function(n){n instanceof r?n.nudge(t):n instanceof u&&n.update_x_xd(t)}))}randomNudges(t){var n=[];this.elements.forEach((function(e){n=[(Math.random()-.5)*t,(Math.random()-.5)*t],e instanceof r?e.nudge(n):e instanceof u&&e.update_x_xd(n)}))}}},"65fb":function(t,n){t.exports=class{constructor(t,n,e,i){this.index=i,this.belongsTo=null,this.active=t,this.alive=!0,this.visable=n,this.type=e,this.from=null,this.to=null}toJSON(){var t={type:this.type,from:null,to:null};return null!==this.from?(t.from=this.from.index,t.to=this.to.index):(t.from=this.from,t.from=this.to),t}on(){this.active=!0}off(){this.active=!1}kill(){this.alive=!1}}},"6aca":function(t,n,e){var i={"./CollisionChecker":"a005","./CollisionChecker.js":"a005","./CollisionResponse":"883d","./CollisionResponse.js":"883d","./ConvexSet":"8ed7","./ConvexSet.js":"8ed7","./Line":"da07","./Line.js":"da07","./Particle":"3d50","./Particle.js":"3d50","./Point":"34ee","./Point.js":"34ee","./Primative":"1ecf","./Primative.js":"1ecf","./RelPoint":"22f4","./RelPoint.js":"22f4","./Structure":"64b6","./Structure.js":"64b6"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="6aca"},7010:function(t,n,e){const i=e("b503"),s=(i.getModule("GeneralMethods"),i.getModule("Link")),o=i.getModule("Constraint");t.exports=class extends o{constructor(t,n,e){super(!0,!1,"glue",e),this.link1=new s(t.from,n.to,!0,!1),this.link2=new s(t.to,n.from,!0,!1),this.from=t.belongsTo,this.to=n.belongsTo,this.fragilityConstant=.5,this.fragile=!0}effect(){this.active&&this.alive&&(this.link1.effect(),this.link2.effect())}on(){}}},"7a30":function(t,n,e){const i=e("b503"),s=i.getModule("SL"),o=i.getModule("GeneralMethods"),r=i.getModule("SpaceTime"),u=i.getModule("Point"),a=i.getModule("Particle"),l=i.getModule("Joint"),c=i.getModule("Link"),h=i.getModule("Beam"),d=i.getModule("AngleLink"),f=i.getModule("Glue"),p=i.getModule("ConvexSet"),m=i.getModule("Structure"),v=i.getModule("Line"),x=i.getModule("RelPoint"),g=i.getModule("lawInstances");t.exports=class{constructor(t){this.environment=new r(t,this),this.environment.laws.finite=g["finite"](this.environment),this.environment.laws.gravity=g["gravity"],this.environment.laws.airResistance=g["airResistance"]}returnEnviro(){return this.environment}load(t){this.environment=s.load(t)}mergeLoad(t){this.addEnvironment(this.environment,s.load(fileName))}save(t){s.save(this.environment,t)}addPoint(t){if(t instanceof u)t.index=this.environment.points.length,t.environment=this.environment,this.environment.points.push(t);else{var n=new u(t,this.environment.points.length);n.environment=this.environment,this.environment.points.push(n)}return this.environment.points[this.environment.points.length-1]}addPoints(t){t.forEach((function(t){this.addPoint(t)}),this)}copyPoint(t){var n=t.x.slice(),e=this.addPoint(n);return e}addRelPoint(t,n){var e=new x(t,this.environment.relPoints.length,n);return this.environment.relPoints.push(e),e}addLine(t,n){var e=new v(t,n,this.environment.graphics.length);return this.environment.graphics.push(e),e.from.anchor.belongsTo.graphics.push(e),e}addParticle(t,n,e){var i=new a(t,e,this.environment.points.length,n);return i.environment=this.environment,this.environment.points.push(i),i}addVisableLink(t,n){var e=new c(t,n,!0,!0,this.environment.constraints.length);return this.environment.constraints.push(e),e}addInvisableLink(t,n){var e=new c(t,n,!0,!1,this.environment.constraints.length);return this.environment.constraints.push(e),e}addBeam(t,n,e,i,s,o){var r=new h(t,n,e,i,s,o,this.environment.constraints.length);return this.environment.constraints.push(r),r}addGlueBetweenLinkPairs(t,n){var e=new f(t,n,this.environment.constraints.length);return t.belongsTo.glues.push(e),n.belongsTo.glues.push(e),this.environment.constraints.push(e),e}addAngleLink(t,n){var e=new d(t,n,this.environment.constraints.length);return this.environment.constraints.push(e),e}addJointBetweenLinkPairs(t,n){var e=t[0],i=n[0],s=t[0].intersectAngleTo(t[1]),o=n[0].intersectAngleTo(n[1]),r=new l(e,i,s,o,this.environment.constraints.length);return e.belongsTo.joints.push(r),i.belongsTo.joints.push(r),this.environment.constraints.push(r),r}addConvexSet(t){for(var n=t.length,e=[],i=[],s=0;s<t.length;s++){var o=this.addVisableLink(t[s],t[(s+1)%n]);e.push(o)}var r=e.length;for(s=0;s<r;s++){var u=this.addAngleLink(e[s],e[(s+1)%r]);i.push(u)}var a=new p(e,i,this.environment.convexSets.length);this.environment.convexSets.push(a);for(s=0;s<t.length;s++)t[s].belongsTo=a;return a}addGlueBetweenConvexSets(t,n){var e=[],i=1e3,s=0;t.links.forEach((function(t){n.links.forEach((function(n){s=o.size(t.from.x,n.to.x)+o.size(t.to.x,n.from.x),s<i&&(i=s,e=[t,n])}))})),this.addGlueBetweenLinkPairs(e[0],e[1])}addJointBetweenConvexSets(t,n){var e=[],i=1e3,s=0;t.links.forEach((function(t,r){n.links.forEach((function(n,u){s=o.size(t.to.x,n.to.x),s<i&&(i=s,e=[r,u])}))}));var r=t.links.length,u=n.links.length,a=[t.links[e[0]],t.links[(e[0]+1)%r]],l=[n.links[e[1]],n.links[(e[1]+1)%u]];return this.addJointBetweenLinkPairs(a,l)}addStructure(t,n){var e=new m(t);return e.environment=this.environment,n.forEach((function(t){e.features.push(t)})),this.environment.structures.push(e),t.forEach((function(t){t.belongsTo.push(e)})),e}addBoundingRect(t){var n=t.findBoundingRect();t.stuff.center=new x(n[0],this.environment.relPoints.length,t.elements[0].links[0]),t.stuff.r=o.add(n[1],[10,10]),t.stuff.hasBoundingRect=!0,this.environment.relPoints.push(t.stuff.center),this.buildOrderArrays()}namesAllStructures(t){this.environment.structures.forEach((function(n){n.name=t}))}addFeaturesTo(t,n){if("all"==n)this.environment.structures.forEach((function(n){n.features.concat(t)}));else{var e=this.environment.structures.filter(t=>t.name==n);e.forEach((function(n){n.features.concat(t)}))}}addLawTo(t,n){if("all"==n)t.structures.concat(this.environment.structures);else{this.environment.structures.filter(t=>t.name==n);t.structures.concat(t)}}addEnvironment(t){var n=this.environment.points.length;t.points.forEach((function(t,e){t.index=n+e,this.points.push(t)}),this.environment);var e=this.environment.convexSets.length;t.convexSets.forEach((function(t,n){t.index=e+n,this.convexSets.push(t)}),this.environment),t.constraints.forEach((function(t){this.constraints.push(t)}),this.environment),t.structures.forEach((function(t){this.structures.push(t)}),this.environment),Object.keys(t.laws).forEach((function(n){Object.keys(this.laws).forEach((function(e){"null"!==e&&"null"!==n&&(e==n?t.laws[n].structures.forEach((function(t){this.laws[e].structures.push(t)}),this):this.laws[n]=t.laws[n])}),this)}),this.environment),this.buildOrderArrays()}removeStructureWithName(t){var n=this.environment.structures.find(n=>n.name==t);this.removeStructure(n)}removeStructure(t){this.environment.structures=this.environment.structures.filter(n=>n!=t);var n=t.elements.filter(t=>t instanceof a);this.environment.constraints=this.environment.constraints.filter(t=>{return!(t instanceof c)||!n.includes(t.from)}),this.environment.points=this.environment.points.filter(t=>!n.includes(t));var e=t.elements.filter(t=>t instanceof p),i=e.reduce((t,n)=>[...t,...n.links],[]),s=e.reduce((t,n)=>[...t,...n.joints],[]),o=e.reduce((t,n)=>[...t,...n.glues],[]),r=e.reduce((t,n)=>[...t,...n.angleLinks],[]),u=i.reduce((t,n)=>[...t,n.from,n.to],[]);this.environment.points=this.environment.points.filter(t=>!u.includes(t)),this.environment.constraints=this.environment.constraints.filter(t=>{return t instanceof d?!r.includes(t):t instanceof l?!s.includes(t):t instanceof f?!o.includes(t):t instanceof c?!i.includes(t):True}),Object.values(this.environment.laws).forEach(n=>n.structures=n.structures.filter(n=>n!=t)),this.recalibrateIndexing(),this.buildOrderArrays()}deleteStructure(t){this.environment.structures.forEach((function(n,e){n===t&&this.structures.splice(e,1)}),this.environment)}buildOrderArrays(){this.environment.constraintsRunOrder=[];for(var t=0;t<this.environment.constraints.length;t++)this.environment.constraintsRunOrder.push(t)}addExplodeStucture(t,n,e,i,s,r,u,a,l,c){for(var h=0;h<t;h++){for(var d=[],f=0;f<n;f++){var p=o.add([Math.floor((Math.random()-.5)*e),Math.floor((Math.random()-.5)*e)],u),m=o.add([(Math.random()-.5)*i,(Math.random()-.5)*i],s);d.push(this.addParticle(p,0,m))}var v=d.length;d.forEach((function(t,n){var e=Math.floor(Math.random()*a);0==e&&e++;for(var i=[],s=0;s<e;s++){var o=!1,r=Math.floor(Math.random()*v);i.forEach((function(t){t==r&&(o=!0)})),o||this.addVisableLink(d[n],d[r])}}),this);var x=this.addStructure(d,[]);x.name="explosion",r>0&&(x.stuff.lifeLength=r,x.stuff.age=0,this.environment.laws.finite.structures.push(x)),c&&this.environment.laws["gravity"].structures.push(x),l.forEach((function(t){x.features.push(t)}))}this.buildOrderArrays()}recalibrateIndexing(){this.environment.points.forEach((function(t,n){t.index=n})),this.environment.constraints.forEach((function(t,n){t.index=n})),this.environment.convexSets.forEach((function(t,n){t.index=n})),this.environment.graphics.forEach((function(t,n){t.index=n})),this.environment.relPoints.forEach((function(t,n){t.index=n}))}cleanEnvironment(){this.environment.name=null,this.environment.points=[],this.environment.constraints=[],this.environment.convexSets=[],this.environment.structures=[],this.environment.relPoints=[],this.environment.graphics=[],this.environment.laws={},this.environment.builder=null,this.environment.time=0,this.environment.realCenter=null,this.environment.relativeCenter=[],this.environment.constraintsRunOrder=[],this.environment.localRate=2,this.environment.globalRate=2,this.environment.totalRate=5,this.environment.stuff={},this.environment.builder=this}}},"808c":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=i.getModule("Link"),r=1;t.exports=class extends o{constructor(t,n,e,i,s,o,u){super(t,n,!0,!1,u),this.type="beam",this.forceUpperBound=4*r,this.forceLowerBound=-r,this.compLowerBound=this.length-100,this.resistance=.025,this.springConstant=.25}toJSON(){var t={type:"beam",from:this.from.index,to:this.to.index,forceUpperBound:this.forceUpperBound,forceLowerBound:this.forceLowerBound,compLowerBound:this.compLowerBound,resistance:this.resistance};return t}effect(){if(this.active&&this.alive){var t=s.minus(this.to.x,this.from.x),n=s.dot(t,t);n>0&&(t=s.mult(t,.5-this.length*this.length/(n+this.length*this.length)),this.from.update_x_xd(t),this.to.update_x_xd(s.neg(t)))}}}},"883d":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods");n.wallCollisionTest=function(t,n,e,i,s){t.forEach((function(t){return t.x[0]<n?(t.update_x_xd([-t.x[0]+n,0]),void t.update_x_old_xd([t.x[0]-n,0])):t.x[0]>e?(t.update_x_xd([-t.x[0]+e,0]),void t.update_x_old_xd([t.x[0]-e,0])):t.x[1]<i?(t.update_x_xd([0,-t.x[1]+i]),void t.update_x_old_xd([0,t.x[1]-i])):t.x[1]>s?(t.update_x_xd([0,-t.x[1]+s]),void t.update_x_old_xd([0,t.x[1]-s])):void 0}))},n.particleResponse=function(t,n){var e=t.point1.x,i=t.point2.x,o=s.norm(s.minus(e,i)),r=Math.abs(t.depth/2);t.point1.update_x_xd(s.mult(o,r)),t.point2.update_x_xd(s.mult(o,-r))},n.classicalResponse=function(t){var n=t.point.x,e=t.link.from.x,i=t.link.to.x,o=t.link.length,r=s.perp(s.dev(s.minus(i,e),o)),u=s.dot(s.minus(n,e),s.dev(s.minus(i,e),o));t.point.update_x_xd(s.mult(r,s.upperBound(-t.depth/2))),t.point.update_x_old_xd(s.mult(r,s.upperBound(t.depth/2))),t.link.from.update_x_xd(s.mult(r,s.upperBound(o*t.depth/s.lowerBound(4*(o-u))))),t.link.from.update_x_old_xd(s.mult(r,s.upperBound(-o*t.depth/s.lowerBound(4*(o-u))))),t.link.to.update_x_xd(s.mult(r,s.upperBound(t.depth*o/s.lowerBound(4*u)))),t.link.to.update_x_old_xd(s.mult(r,s.upperBound(-t.depth*o/s.lowerBound(4*u))))},n.SCR=function(t){var n=t.point.x,e=t.link.from.x,i=t.link.to.x,o=t.link.length,r=(s.perp(s.dev(s.minus(i,e),o)),s.dot(s.minus(n,e),s.dev(s.minus(i,e),o))),u=s.minus(t.point.x,t.point.x_old),a=s.minus(t.link.from.x,t.link.from.x_old),l=s.minus(t.link.to.x,t.link.to.x_old),c=s.add(s.mult(a,r/o),s.mult(l,1-r/o)),h=s.add(c,u);return h},n.destroy=function(t){t.elements.forEach((function(t){t.glues.forEach((function(t){Math.random()>.5&&(t.active=!1)}))})),t.environment.builder.addExplodeStucture(3,5,10,1,[0,0],0,t.findCenter(),2,[],!1)},n.responseWithRisistance=function(t,n){var e=t.point.x,i=t.link.from.x,o=t.link.to.x,r=t.link.length,u=s.dev(s.minus(o,i),r),a=s.perp(u),l=s.dot(s.minus(e,i),u),c=s.minus(t.point.x,t.point.x_old),h=s.minus(t.link.from.x,t.link.from.x_old),d=s.minus(t.link.to.x,t.link.to.x_old);t.point.update_x_xd(s.mult(a,s.upperBound(-t.depth/2))),t.point.update_x_old_xd(s.mult(a,s.upperBound(t.depth/2))),t.point.update_x_xd(s.mult(u,s.dot(c,u)*-n)),t.link.from.update_x_xd(s.mult(a,s.upperBound(r*t.depth/s.lowerBound(4*(r-l))))),t.link.from.update_x_xd(s.mult(u,s.dot(h,u)*-n)),t.link.from.update_x_old_xd(s.mult(a,s.upperBound(-r*t.depth/s.lowerBound(4*(r-l))))),t.link.to.update_x_xd(s.mult(a,s.upperBound(t.depth*r/s.lowerBound(4*l)))),t.link.to.update_x_xd(s.mult(u,s.dot(d,u)*-n)),t.link.to.update_x_old_xd(s.mult(a,s.upperBound(-t.depth*r/s.lowerBound(4*l))))},n.responseWithStickyRisistance=function(t,n,e){var i=t.point.x,o=t.link.from.x,r=t.link.to.x,u=t.link.length,a=s.dev(s.minus(r,o),u),l=s.perp(a),c=s.dot(s.minus(i,o),a),h=s.minus(t.point.x,t.point.x_old),d=s.minus(t.link.from.x,t.link.from.x_old),f=s.minus(t.link.to.x,t.link.to.x_old),p=s.add(s.mult(d,c/u),s.mult(f,1-c/u));t.depth<0&&(t.point.update_x_xd(s.mult(a,s.dot(h,a)*-n)),t.link.from.update_x_xd(s.mult(a,s.dot(d,a)*-n)),t.link.to.update_x_xd(s.mult(a,s.dot(f,a)*-n)),t.point.update_x_xd(s.mult(l,s.upperBound(-t.depth/4))),t.link.to.update_x_xd(s.mult(l,s.upperBound(u*t.depth/(4*s.lowerBound(2*(u-c)))))),t.link.from.update_x_xd(s.mult(l,s.upperBound(u*t.depth/(4*s.lowerBound(2*c))))));var m=s.len(s.add(p,h));m<.25&&(t.point.update_x_xd(s.mult(h,s.dot(h,l)*-e)),p=s.norm(p),t.link.from.update_x_xd(s.mult(p,s.dot(d,p)*-e)),t.link.to.update_x_xd(s.mult(p,s.dot(f,p)*-e)))}},"8ed7":function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=i.getModule("CollisionChecker"),r=(i.getModule("Point"),i.getModule("Primative")),u=i.getModule("Particle");t.exports=class t extends r{constructor(t,n,e){super(e),this.links=t,this.angleLinks=n,this.glues=[],this.joints=[],this.graphics=[],this.belongsTo=[],this.links.forEach((function(t){t.belongsTo=this}),this),this.fixAntiClockwiseOrientaion()}toJSON(){var t={pointIndices:this.links.map(t=>t.from.index)};return t}reverseOrient(){var t=0;this.links.forEach((function(n){t=n.from,n.from=n.to,n.to=t}));var n=this.links.length,e=this.links.slice();e.forEach((function(t,e){this.links[n-e-1]=t}),this)}findCenter(){var t=[0,0];return this.links.forEach((function(n){t=s.add(n.from.x,t)})),s.dev(t,this.links.length)}distanceFrom(t){return o.xInB(t,this.links)}fixAntiClockwiseOrientaion(){this.links[0].perpDistance(this.links[1].to.x)>0&&this.reverseOrient()}fix(){this.links.forEach((function(t){t.from.setStatic()}))}kill(){this.links.forEach((function(t){t.kill()})),this.glues.forEach((function(t){t.kill()})),this.joints.forEach((function(t){t.kill()}))}getPoints(){return this.links.reduce((t,n)=>[...t,n.to],[])}getPointIndexBounds(){var t=s.getIntListBounds(this.links.map(t=>t.from.index));return t}getLinkIndexBounds(){var t=s.getIntListBounds(this.links.map(t=>t.index));return t}getAngleLinkIndexBounds(){var t=s.getIntListBounds(this.angleLinks.map(t=>t.index));return t}checkProximityTo(n){return n instanceof t?o.convexTest(this.links,n.links):n instanceof u?o.xToB(n,this.links):void 0}nudge(t){this.links.forEach((function(n){n.from.update_x_xd(t)}))}}},"905b":function(t,n,e){var i={"./GeneralMethods":"ed9b","./GeneralMethods.js":"ed9b"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="905b"},"9a90":function(t,n,e){var i={"./Builder":"7a30","./Builder.js":"7a30","./SL":"1c1b","./SL.js":"1c1b"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="9a90"},"9ec5":function(t,n,e){var i={"./Law":"51ce","./Law.js":"51ce","./lawInstances":"d113","./lawInstances.js":"d113"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="9ec5"},a005:function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods");function o(t,n){var e=0,i={type:"c2c",collision:null,link:null,point:t,depth:-1e4};return n.forEach((function(n){e=n.perpDistance(t.x),e>i.depth&&(i.link=n,i.depth=e)})),i.depth<0&&(i.collision=!0),i}function r(t,n){var e={type:"c2c",collision:null,link:n,points:t,depth:10};return e.points=e.points.filter(t=>n.perpDistance(t.from.x)<0),e}function u(t,n){var e,i=o(t[0].from,n);return i.collision?i:(e=r(t,i.link),0==e.points.length?(i.collision||(i.collision=!1),i):u(e.points,n))}n.jointTest=function(t){},n.convexTest=function(t,n){t=s.shuffleStart(t),n=s.shuffleStart(n);var e=u(t,n),i=u(n,t);return e.depth<i.depth?e:i},n.xInB=function(t,n){var e=-1e4,i=0;return n.forEach((function(n){i=n.perpDistance(t),i>e&&(e=i)})),e},n.xToB=function(t,n){var e={link:null,point:t,depth:-1e4},i=0;return n.forEach((function(n){i=n.perpDistance(t.x),i>e.depth&&(e.depth=i,e.link=n)})),e.type="p2c",e}},a78d:function(t,n,e){var i={"./AngleLink":"0e0a","./AngleLink.js":"0e0a","./Beam":"808c","./Beam.js":"808c","./Constraint":"65fb","./Constraint.js":"65fb","./Glue":"7010","./Glue.js":"7010","./Joint":"0a4b","./Joint.js":"0a4b","./Link":"1bd4","./Link.js":"1bd4"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="a78d"},b503:function(t,n,e){n.getModule=function(t){return"Builder"==t||"SL"==t?e("9a90")("./"+t):"AngleLink"==t||"Beam"==t||"Constraint"==t||"Glue"==t||"Joint"==t||"Link"==t?e("a78d")("./"+t):"Feature"==t||"featureInstances"==t?e("bf8c")("./"+t):"Law"==t||"lawInstances"==t?e("9ec5")("./"+t):"ConvexSet"==t||"Point"==t||"Primative"==t||"Structure"==t||"Particle"==t||"CollisionChecker"==t||"CollisionResponse"==t||"RelPoint"==t||"Line"==t?e("6aca")("./"+t):"GeneralMethods"==t?e("905b")("./"+t):"SpaceTime"==t?e("fe7c")("./"+t):void console.log("module not found")}},bf8c:function(t,n,e){var i={"./Feature":"26f1","./Feature.js":"26f1","./featureInstances":"4c1f","./featureInstances.js":"4c1f"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="bf8c"},d113:function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=(i.getModule("CollisionChecker"),i.getModule("CollisionResponse"),i.getModule("Law")),r=(i.getModule("featureInstances"),i.getModule("Link"),i.getModule("ConvexSet")),u=i.getModule("Particle");t.exports={gravity:function(){var t=new o("Gravity");return t.effects=function(){this.applyToAllPoints((function(t){t.update_x_xd([0,.001])}))},t}(),airResistance:function(){var t=new o("AirResistance");return t.effects=function(){this.applyToAllPoints((function(t){t.update_x_xd(s.mult(s.minus(t.x_old,t.x),.002))}))},t}(),finite:function(t){var n=new o("lifeTime");return n.environment=t,n.effects=function(){this.applyToStructures((function(t){t.alive&&(t.stuff.age>t.stuff.lifeLength?(t.kill(),n.environment.builder.removeStructure(t)):t.stuff.age++)}))},n},bowl:function(t,n){var e=new o("bowl");return e.center=t,e.slope=n,e.effects=function(){this.applyToStructures((function(t){var n=t.findCenter(),i=s.norm(s.minus(e.center,n)),o=s.size(e.center,n),a=o*o*1e-9;t.elements.forEach(t=>{t instanceof r?t.links.forEach((function(t){t.from.update_x_xd(s.mult(i,a))})):t instanceof u&&t.update_x_xd(s.mult(i,a))})}))},e},boundary:function(t,n,e,i){var s=new o("boundary");return s.effects=function(){this.applyToStructures((function(s){var o=s.findCenter();o[0]>n?s.elements.forEach((function(t){a(t,[-n,0])})):o[0]<t?s.elements.forEach((function(t){a(t,[n,0])})):o[1]>i?s.elements.forEach((function(t){a(t,[0,-i])})):o[1]<e&&s.elements.forEach((function(t){a(t,[0,i])}))}))},s}};function a(t,n){t instanceof r?l(t,n):t instanceof u&&c(t,n)}function l(t,n){t.links.forEach((function(t){t.from.update_x_xd(n),t.from.update_x_old_xd(n)}))}function c(t,n){t.update_x_xd(n),t.update_x_old_xd(n)}},da07:function(t,n,e){const i=e("b503");i.getModule("GeneralMethods"),i.getModule("Primative");t.exports=class{constructor(t,n,e){this.from=t,this.to=n,this.visable=!0}toJSON(){var t={from:this.from.index,to:this.to.index,index:this.index};return t}}},e774:function(t,n,e){const i=e("b503"),s=i.getModule("GeneralMethods"),o=i.getModule("CollisionResponse");t.exports=class{constructor(t,n){this.name=t,this.points=[],this.constraints=[],this.convexSets=[],this.structures=[],this.relPoints=[],this.graphics=[],this.laws={},this.builder=n,this.time=0,this.realCenter=null,this.relativeCenter=[],this.constraintsRunOrder=[],this.localRate=2,this.globalRate=2,this.totalRate=5,this.stuff={}}toJSON(){var t={points:this.points,relPoints:this.relPoints,graphics:this.graphics,constraints:this.constraints,convexSets:this.convexSets,structures:this.structures,laws:Object.keys(this.laws).map(t=>t.name)};return t}shiftScene(t){this.points.forEach((function(n){n.move(t),n.move(t)})),this.relPoints.forEach((function(t){t.update_x()}))}wallEffects(t,n,e,i){o.wallCollisionTest(this.points,t,n,e,i)}constraintEffects(t){for(var n=0;n<t;n++)this.constraintsRunOrder.forEach((function(t){this[t].effect()}),this.constraints)}interactionEffects(){this.structures.forEach((function(t,n){this.structures.forEach((function(e,i){n>i&&t.interaction(e)}))}),this)}step(){Object.keys(this.laws).forEach((function(t){"null"!==t&&this.laws[t].effects()}),this),this.points.forEach((function(t){t.update_v()}))}timeStep(){for(var t=0;t<this.totalRate;t++){for(var n=0;n<this.globalRate;n++)this.interactionEffects();for(n=0;n<this.localRate;n++)if(this.step(),this.constraintEffects(1),null!==this.realCenter){var e=s.minus(this.realCenter,this.relativeCenter.findCenter());this.shiftScene(e)}this.time++}this.relPoints.forEach((function(t){t.update_x()}))}}},ed9b:function(t,n){t.exports={sigma:function(t,n,e,i,s){return this.dot(this.dev(this.minus(t,e),n),this.dev(this.perp(this.minus(s,e)),i))},shift_mod:function(t){let n=function(n){return n>t-1?n-t:n<0?n+t:n};return n},lowerBound:function(t){return t},upperBound:function(t){const n=1;return t>n?n:t<-n?-n:t},norm:function(t){var n=this.size(t,[0,0]);return n>.1?[t[0]/n,t[1]/n]:[0,0]},pos:function(t){return t>0?t:-t},vectPos:function(t){return t.forEach((function(n,e){t[e]=n>0?n:-n})),t},sign:function(t){return t>0?1:t<0?-1:0},dot:function(t,n){return t[0]*n[0]+t[1]*n[1]},add:function(t,n){return[t[0]+n[0],t[1]+n[1]]},perp:function(t){return[-t[1],t[0]]},minus:function(t,n){return[t[0]-n[0],t[1]-n[1]]},len:function(t){return Math.sqrt(this.dot(t,t))},size:function(t,n){var e=this.minus(t,n);return Math.sqrt(this.dot(e,e))},dev:function(t,n){return[t[0]/n,t[1]/n]},mult:function(t,n){return[t[0]*n,t[1]*n]},multVec:function(t,n){return[t[0]*n[0],t[1]*n[1]]},neg:function(t){return[-t[0],-t[1]]},mod:function(t,n){return(t%n+n)%n},rot(t,n){return[Math.cos(t)*n[0]-Math.sin(t)*n[1],Math.sin(t)*n[0]+Math.cos(t)*n[1]]},clockwiseAngleBetween(t,n){var e=this.len(t)*this.len(n),i=this.dot(t,n),s=Math.acos(i/e);return this.dot(this.perp(t),n)<0?2*Math.PI-s:s},everySecond:function(t){for(var n=[],e=0;e<Math.ceil(t.length/2);e++)n.push(t[2*e]);return n},shuffle:function(t){for(var n,e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*e);n=t[i],t[i]=t[e],t[e]=n}return t},shuffleStart:function(t){for(var n=Math.floor(Math.random()*t.length),e=[],i=0;i<t.length;i++)e[i]=t[n],n=(n+1)%t.length;return e},max:function(t){var n;return t.forEach((function(t){(n<t||void 0==n)&&(n=t)})),n},min:function(t){var n;return t.forEach((function(t){(n>t||void 0==n)&&(n=t)})),n},getIntListBounds:function(t){var n=t[0],e=t[0];return t.forEach((function(t){t>n?n=t:t<e&&(e=t)})),[e,n]},getLineIntersections(t,n,e,i){var s={p:[],intersection:!1,t1:0,t2:0},o=(e[1]-i[1])*(t[0]-e[0])+(i[0]-e[0])*(t[1]-e[1]),r=(t[1]-n[1])*(t[0]-e[0])+(n[0]-t[0])*(t[1]-e[1]),u=(i[0]-e[0])*(t[1]-n[1])-(t[0]-n[0])*(i[1]-e[1]);if(0==u)return s.intersection=!1,s;var a=o/u,l=r/u;return s.t1=a,s.t2=l,s.p=this.add(t,this.mult(this.minus(n,t),a)),a>0&&a<1&&l>0&&l<1?(s.intersection=!0,s):(s.intersection=!1,s)}}},fe7c:function(t,n,e){var i={"./Constraints/AngleLink":"0e0a","./Constraints/AngleLink.js":"0e0a","./Constraints/Beam":"808c","./Constraints/Beam.js":"808c","./Constraints/Constraint":"65fb","./Constraints/Constraint.js":"65fb","./Constraints/Glue":"7010","./Constraints/Glue.js":"7010","./Constraints/Joint":"0a4b","./Constraints/Joint.js":"0a4b","./Constraints/Link":"1bd4","./Constraints/Link.js":"1bd4","./Construction/Builder":"7a30","./Construction/Builder.js":"7a30","./Construction/SL":"1c1b","./Construction/SL.js":"1c1b","./Features/Feature":"26f1","./Features/Feature.js":"26f1","./Features/featureInstances":"4c1f","./Features/featureInstances.js":"4c1f","./General/GeneralMethods":"ed9b","./General/GeneralMethods.js":"ed9b","./Laws/Law":"51ce","./Laws/Law.js":"51ce","./Laws/lawInstances":"d113","./Laws/lawInstances.js":"d113","./SpaceTime":"e774","./SpaceTime.js":"e774","./Structures/CollisionChecker":"a005","./Structures/CollisionChecker.js":"a005","./Structures/CollisionResponse":"883d","./Structures/CollisionResponse.js":"883d","./Structures/ConvexSet":"8ed7","./Structures/ConvexSet.js":"8ed7","./Structures/Line":"da07","./Structures/Line.js":"da07","./Structures/Particle":"3d50","./Structures/Particle.js":"3d50","./Structures/Point":"34ee","./Structures/Point.js":"34ee","./Structures/Primative":"1ecf","./Structures/Primative.js":"1ecf","./Structures/RelPoint":"22f4","./Structures/RelPoint.js":"22f4","./Structures/Structure":"64b6","./Structures/Structure.js":"64b6"};function s(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="fe7c"}}]);
//# sourceMappingURL=chunk-2bc55e7a.ab00b0ca.js.map