{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray.js","webpack:///./src/views/games/asteroids/laws.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js"],"names":["module","exports","_arrayWithHoles","arr","_iterableToArrayLimit","i","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","_nonIterableRest","TypeError","_slicedToArray","gm","engine","GeneralMethods","Law","cr","CollisionResponse","gravity","effects","applyToAllPoints","point","update_x_xd","airResistance","mult","minus","x_old","x","finite","applyToStructures","structure","alive","stuff","age","lifeLength","kill","boundary","box","center","outerWidth","elements","forEach","element","links","link","from","update_x_old_xd","outerHeight","starBoundary","structures","starFeild","star","width","height","thruster","strength","vector","convexSets","util","vectorSize","size","to","name","convexSet","visable","on","v","dev","issI","iss","components","beams","state","enviro","environment","gameState","newComponents","boolUpdateIss","CheckBoundingRect","component","boolKeepComponent","reports","checkProximityTo","report","collision","v_i","SCR","randomNudges","len","finished","a","d","s","w","beam","active","destroy","builder","addExplodeStucture","newIssSets","set","findBoundingRect","c","r","fixTo","anObject","get","getIterator","it","iterFn"],"mappings":"qGAAA,EAAQ,QACR,EAAQ,QACRA,EAAOC,QAAU,EAAQ,S,oECDV,SAASC,EAAgBC,GACtC,GAAI,IAAeA,GAAM,OAAOA,E,8CCAnB,SAASC,EAAsBD,EAAKE,GACjD,GAAM,IAAYC,OAAOH,KAAiD,uBAAxCG,OAAOC,UAAUC,SAASC,KAAKN,GAAjE,CAIA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAA4BC,EAAxBC,EAAK,IAAab,KAAYQ,GAAMI,EAAKC,EAAGC,QAAQC,MAAOP,GAAK,EAGvE,GAFAD,EAAKS,KAAKJ,EAAGK,OAETf,GAAKK,EAAKW,SAAWhB,EAAG,MAE9B,MAAOiB,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAG,WAAmBA,EAAG,YACpC,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GC7BM,SAASa,IACtB,MAAM,IAAIC,UAAU,wDCEP,SAASC,EAAetB,EAAKE,GAC1C,OAAO,EAAeF,IAAQ,EAAqBA,EAAKE,IAAM,I,mCCD1DqB,EAAKC,IAAOC,eACZC,EAAMF,IAAOE,IACbC,EAAKH,IAAOI,kBAIH,cACbC,QAAU,WACR,IAAIA,EAAU,IAAIH,EAAI,WAMtB,OALAG,EAAQC,QAAU,WAChBD,EAAQE,kBAAiB,SAASC,GAChCA,EAAMC,YAAY,CAAC,EAAG,WAGnBJ,EAPC,GAUVK,cAAgB,WACd,IAAIA,EAAgB,IAAIR,EAAI,iBAO5B,OALAQ,EAAcJ,QAAU,WACtBI,EAAcH,kBAAiB,SAASC,GACtCA,EAAMC,YAAYV,EAAGY,KAAKZ,EAAGa,MAAMJ,EAAMK,MAAOL,EAAMM,GAAI,WAGvDJ,EARO,GAWhBK,OAAS,WACP,IAAIA,EAAS,IAAIb,EAAI,YAYrB,OAXAa,EAAOT,QAAU,WACfS,EAAOC,mBAAkB,SAASC,GAC5BA,EAAUC,QACRD,EAAUE,MAAMC,IAAMH,EAAUE,MAAME,WACxCJ,EAAUK,OAEVL,EAAUE,MAAMC,WAKjBL,EAbA,GAgBTQ,SAAU,SAASC,GACjB,IAAID,EAAW,IAAIrB,EAAI,YAoCvB,OAnCAqB,EAASC,IAAMA,EACfD,EAASjB,QAAU,WACjBiB,EAASP,mBAAkB,SAASC,GAClC,IAAIQ,EAAS1B,EAAGa,MAAMK,EAAUE,MAAMM,OAAOX,EAAGU,EAAIC,QAChDA,EAAO,GAAKD,EAAIE,WAClBT,EAAUU,SAASC,SAAQ,SAASC,GAClCA,EAAQC,MAAMF,SAAQ,SAASG,GAC7BA,EAAKC,KAAKvB,YAAY,CAAmB,GAAjBe,EAAIE,WAAgB,IAC5CK,EAAKC,KAAKC,gBAAgB,CAAmB,GAAjBT,EAAIE,WAAgB,UAG3CD,EAAO,IAAMD,EAAIE,WAC1BT,EAAUU,SAASC,SAAQ,SAASC,GAClCA,EAAQC,MAAMF,SAAQ,SAASG,GAC7BA,EAAKC,KAAKvB,YAAY,CAAkB,EAAjBe,EAAIE,WAAgB,IAC3CK,EAAKC,KAAKC,gBAAgB,CAAkB,EAAjBT,EAAIE,WAAgB,UAG1CD,EAAO,GAAKD,EAAIU,YACzBjB,EAAUU,SAASC,SAAQ,SAASC,GAClCA,EAAQC,MAAMF,SAAQ,SAASG,GAC7BA,EAAKC,KAAKvB,YAAY,CAAC,EAAsB,GAAlBe,EAAIU,cAC/BH,EAAKC,KAAKC,gBAAgB,CAAC,EAAsB,GAAlBT,EAAIU,oBAG9BT,EAAO,IAAMD,EAAIU,aAC1BjB,EAAUU,SAASC,SAAQ,SAASC,GAClCA,EAAQC,MAAMF,SAAQ,SAASG,GAC7BA,EAAKC,KAAKvB,YAAY,CAAC,EAAqB,EAAlBe,EAAIU,cAC9BH,EAAKC,KAAKC,gBAAgB,CAAC,EAAqB,EAAlBT,EAAIU,wBAMrCX,GAGTY,aAAc,SAASX,GACrB,IAAIW,EAAe,IAAIjC,EAAI,gBAyB3B,OAxBAiC,EAAaX,IAAMA,EACnBW,EAAa7B,QAAU,WACrB6B,EAAaC,WAAWR,SAAQ,SAASS,GACvCA,EAAUV,SAASC,SAAQ,SAASU,GAClC,IAAIb,EAAS1B,EAAGa,MAAM0B,EAAKxB,EAAGU,EAAIC,QAC9BA,EAAO,GAAKD,EAAIe,QAClBD,EAAK7B,YAAY,CAAc,GAAZe,EAAIe,MAAW,IAClCD,EAAKL,gBAAgB,CAAc,GAAZT,EAAIe,MAAW,KAEpCd,EAAO,IAAMD,EAAIe,QACnBD,EAAK7B,YAAY,CAAa,EAAZe,EAAIe,MAAW,IACjCD,EAAKL,gBAAgB,CAAa,EAAZT,EAAIe,MAAW,KAEnCd,EAAO,GAAKD,EAAIgB,SAClBF,EAAK7B,YAAY,CAAC,EAAiB,GAAbe,EAAIgB,SAC1BF,EAAKL,gBAAgB,CAAC,EAAiB,GAAbT,EAAIgB,UAE5Bf,EAAO,IAAMD,EAAIgB,SACnBF,EAAK7B,YAAY,CAAC,EAAgB,EAAbe,EAAIgB,SACzBF,EAAKL,gBAAgB,CAAC,EAAgB,EAAbT,EAAIgB,iBAK9BL,GAITM,SAAU,SAASC,EAAUC,EAAQC,EAAYC,GAC/C,IAAIJ,EAAW,IAAIvC,EAAI,YAwBvB,OAvBAuC,EAASK,WAAa/C,EAAGgD,KAAKJ,EAAOK,GAAGlC,EAAG6B,EAAOX,KAAKlB,GACvD2B,EAASE,OAASA,EAClBF,EAASE,OAAOM,KAAO,aACvBR,EAASG,WAAaA,EACtBH,EAASI,KAAOA,EAEhBJ,EAASnC,QAAU,WACjBmC,EAASG,WAAWhB,SAAQ,SAASsB,GACnC,GAAIA,EAAUhC,QACZuB,EAASE,OAAOQ,SAAU,EACtBV,EAASI,KAAKO,IAAI,CACpBX,EAASE,OAAOQ,SAAU,EAC1B,IAAIE,EAAItD,EAAGuD,IACTvD,EAAGa,MAAM6B,EAASE,OAAOK,GAAGlC,EAAG2B,EAASE,OAAOX,KAAKlB,IACnD2B,EAASK,YAEZI,EAAUpB,MAAMF,SAAQ,SAASG,GAC/BA,EAAKC,KAAKvB,YAAYV,EAAGY,KAAK0C,EAAGX,UAItCD,IAEEA,GAGTc,KAAM,SAASC,EAAKC,EAAYC,EAAOC,EAAOC,GAC5C,IAAIL,EAAO,IAAIrD,EAAI,kBAwEnB,OAvEAqD,EAAKM,YAAcD,EACnBL,EAAKC,IAAMA,EACXD,EAAKE,WAAaA,EAClBF,EAAKG,MAAQA,EACbH,EAAKO,UAAYH,EAEjBJ,EAAKjD,QAAU,WACbiD,EAAKvC,mBAAkB,SAASC,GAC9B,IAAI8C,EAAgB,GAChBC,GAAgB,EAEpB,GAAI/C,EAAUgD,kBAAkBV,EAAKC,OACnCD,EAAKE,WAAW7B,SAAQ,SAASsC,GAC/B,IAAIC,GAAoB,EAEpBC,EAAUnD,EAAUoD,iBAAiBH,EAAW,GACpDE,EAAQxC,SAAQ,SAAS0C,GACvB,GAAIA,EAAOC,UAAW,CACpB,IAAIC,EAAMrE,EAAGsE,IAAIH,GACjBf,EAAKC,IAAIkB,aAAa3E,EAAG4E,IAAI5E,EAAGY,KAAK6D,GAAM,KACvCzE,EAAG4E,IAAIH,GAAO,IAChBjB,EAAKO,UAAUc,UAAW,EAC1BrB,EAAKO,UAAUe,EAAEzB,IAAK,EACtBG,EAAKO,UAAUgB,EAAE1B,IAAK,EACtBG,EAAKO,UAAUiB,EAAE3B,IAAK,EACtBG,EAAKO,UAAUkB,EAAE5B,IAAK,EAEtBG,EAAKG,MAAM9B,SAAQ,SAASqD,GAC1BA,EAAKC,QAAS,KAGhB/E,EAAGgF,QAAQjB,GACXC,GAAoB,EACpBH,GAAgB,EAEhBT,EAAKM,YAAYuB,QAAQC,mBACvB,EACA,EACA,EACA,EACAtF,EAAGa,MAAM0D,EAAO9D,MAAMM,EAAGwD,EAAO9D,MAAMK,OACtC,EACAyD,EAAO9D,MAAMM,EACb,EACA,IACA,QAKJqD,GACFJ,EAAcvE,KAAK0E,MAGvBX,EAAKE,WAAaM,EACdC,GAAiBT,EAAKE,WAAW/D,OAAS,GAAG,CAC/C,IAAI4F,EAAa,GACjB/B,EAAKE,WAAW7B,SAAQ,SAASsC,GAC/BA,EAAUvC,SAASC,SAAQ,SAAS2D,GAClCD,EAAW9F,KAAK+F,SAGpBhC,EAAKC,IAAI7B,SAAW2D,EAP2B,MAQlC/B,EAAKC,IAAIgC,mBARyB,SAQ1CC,EAR0C,KAQvCC,EARuC,KAS/CnC,EAAKC,IAAIrC,MAAMM,OAAOX,EAAI2E,EAC1BlC,EAAKC,IAAIrC,MAAMM,OAAOkE,MAAMpC,EAAKC,KACjCD,EAAKC,IAAIrC,MAAMuE,EAAIA,OAKpBnC,K,uBC1NXlF,EAAOC,QAAU,EAAQ,S,uBCAzB,IAAIsH,EAAW,EAAQ,QACnBC,EAAM,EAAQ,QAClBxH,EAAOC,QAAU,EAAQ,QAAWwH,YAAc,SAAUC,GAC1D,IAAIC,EAASH,EAAIE,GACjB,GAAqB,mBAAVC,EAAsB,MAAMnG,UAAUkG,EAAK,qBACtD,OAAOH,EAASI,EAAOlH,KAAKiH","file":"js/chunk-4d7fab16.e5bc62ab.js","sourcesContent":["require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}","import _getIterator from \"../../core-js/get-iterator\";\nimport _isIterable from \"../../core-js/is-iterable\";\nexport default function _iterableToArrayLimit(arr, i) {\n  if (!(_isIterable(Object(arr)) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = _getIterator(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","\"use strict\";\n\nimport engine from \"genesis-tubs-engine\";\nconst gm = engine.GeneralMethods;\nconst Law = engine.Law;\nconst cr = engine.CollisionResponse;\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n////////////////////////////////////////////////////////////////////////////////////////////////////\nexport default {\n  gravity: (function() {\n    var gravity = new Law(\"Gravity\");\n    gravity.effects = function() {\n      gravity.applyToAllPoints(function(point) {\n        point.update_x_xd([0, 0.001]);\n      });\n    };\n    return gravity;\n  })(),\n\n  airResistance: (function() {\n    var airResistance = new Law(\"AirResistance\");\n    //airResistance.frictionalConstant=0.001;\n    airResistance.effects = function() {\n      airResistance.applyToAllPoints(function(point) {\n        point.update_x_xd(gm.mult(gm.minus(point.x_old, point.x), 0.001));\n      });\n    };\n    return airResistance;\n  })(),\n\n  finite: (function() {\n    var finite = new Law(\"lifeTime\");\n    finite.effects = function() {\n      finite.applyToStructures(function(structure) {\n        if (structure.alive) {\n          if (structure.stuff.age > structure.stuff.lifeLength) {\n            structure.kill();\n          } else {\n            structure.stuff.age++;\n          }\n        }\n      });\n    };\n    return finite;\n  })(),\n\n  boundary: function(box) {\n    var boundary = new Law(\"boundary\");\n    boundary.box = box;\n    boundary.effects = function() {\n      boundary.applyToStructures(function(structure) {\n        var center = gm.minus(structure.stuff.center.x, box.center);\n        if (center[0] > box.outerWidth) {\n          structure.elements.forEach(function(element) {\n            element.links.forEach(function(link) {\n              link.from.update_x_xd([-box.outerWidth * 2, 0]);\n              link.from.update_x_old_xd([-box.outerWidth * 2, 0]);\n            });\n          });\n        } else if (center[0] < -box.outerWidth) {\n          structure.elements.forEach(function(element) {\n            element.links.forEach(function(link) {\n              link.from.update_x_xd([box.outerWidth * 2, 0]);\n              link.from.update_x_old_xd([box.outerWidth * 2, 0]);\n            });\n          });\n        } else if (center[1] > box.outerHeight) {\n          structure.elements.forEach(function(element) {\n            element.links.forEach(function(link) {\n              link.from.update_x_xd([0, -box.outerHeight * 2]);\n              link.from.update_x_old_xd([0, -box.outerHeight * 2]);\n            });\n          });\n        } else if (center[1] < -box.outerHeight) {\n          structure.elements.forEach(function(element) {\n            element.links.forEach(function(link) {\n              link.from.update_x_xd([0, box.outerHeight * 2]);\n              link.from.update_x_old_xd([0, box.outerHeight * 2]);\n            });\n          });\n        }\n      });\n    };\n    return boundary;\n  },\n\n  starBoundary: function(box) {\n    var starBoundary = new Law(\"starBoundary\");\n    starBoundary.box = box;\n    starBoundary.effects = function() {\n      starBoundary.structures.forEach(function(starFeild) {\n        starFeild.elements.forEach(function(star) {\n          var center = gm.minus(star.x, box.center);\n          if (center[0] > box.width) {\n            star.update_x_xd([-box.width * 2, 0]);\n            star.update_x_old_xd([-box.width * 2, 0]);\n          }\n          if (center[0] < -box.width) {\n            star.update_x_xd([box.width * 2, 0]);\n            star.update_x_old_xd([box.width * 2, 0]);\n          }\n          if (center[1] > box.height) {\n            star.update_x_xd([0, -box.height * 2]);\n            star.update_x_old_xd([0, -box.height * 2]);\n          }\n          if (center[1] < -box.height) {\n            star.update_x_xd([0, box.height * 2]);\n            star.update_x_old_xd([0, box.height * 2]);\n          }\n        });\n      });\n    };\n    return starBoundary;\n  },\n\n  //adding Thrusters in a general manner\n  thruster: function(strength, vector, convexSets, util) {\n    var thruster = new Law(\"thruster\");\n    thruster.vectorSize = gm.size(vector.to.x, vector.from.x);\n    thruster.vector = vector;\n    thruster.vector.name = \"thrustLine\";\n    thruster.convexSets = convexSets;\n    thruster.util = util;\n\n    thruster.effects = function() {\n      thruster.convexSets.forEach(function(convexSet) {\n        if (convexSet.alive) {\n          thruster.vector.visable = false;\n          if (thruster.util.on) {\n            thruster.vector.visable = true;\n            var v = gm.dev(\n              gm.minus(thruster.vector.to.x, thruster.vector.from.x),\n              -thruster.vectorSize\n            );\n            convexSet.links.forEach(function(link) {\n              link.from.update_x_xd(gm.mult(v, strength));\n            });\n          }\n        }\n      }, thruster);\n    };\n    return thruster;\n  },\n\n  issI: function(iss, components, beams, state, enviro) {\n    var issI = new Law(\"issInteraction\");\n    issI.environment = enviro;\n    issI.iss = iss;\n    issI.components = components;\n    issI.beams = beams;\n    issI.gameState = state;\n\n    issI.effects = function() {\n      issI.applyToStructures(function(structure) {\n        var newComponents = [];\n        var boolUpdateIss = false;\n\n        if (structure.CheckBoundingRect(issI.iss)) {\n          issI.components.forEach(function(component) {\n            var boolKeepComponent = true;\n\n            var reports = structure.checkProximityTo(component, 0);\n            reports.forEach(function(report) {\n              if (report.collision) {\n                var v_i = cr.SCR(report);\n                issI.iss.randomNudges(gm.len(gm.mult(v_i, -1)));\n                if (gm.len(v_i) > 0) {\n                  issI.gameState.finished = true;\n                  issI.gameState.a.on = false;\n                  issI.gameState.d.on = false;\n                  issI.gameState.s.on = false;\n                  issI.gameState.w.on = false;\n\n                  issI.beams.forEach(function(beam) {\n                    beam.active = false;\n                  });\n\n                  cr.destroy(component);\n                  boolKeepComponent = false;\n                  boolUpdateIss = true;\n                  // addExplodeStucture(components,n,size,strength,vel,lifeLength,at,connectedDensity,features,gravity){\n                  issI.environment.builder.addExplodeStucture(\n                    3,\n                    4,\n                    5,\n                    1,\n                    gm.minus(report.point.x, report.point.x_old),\n                    0,\n                    report.point.x,\n                    1,\n                    [],\n                    false\n                  );\n                }\n              }\n            });\n            if (boolKeepComponent) {\n              newComponents.push(component);\n            }\n          });\n          issI.components = newComponents;\n          if (boolUpdateIss && issI.components.length > 0) {\n            var newIssSets = [];\n            issI.components.forEach(function(component) {\n              component.elements.forEach(function(set) {\n                newIssSets.push(set);\n              });\n            });\n            issI.iss.elements = newIssSets;\n            var [c, r] = issI.iss.findBoundingRect();\n            issI.iss.stuff.center.x = c;\n            issI.iss.stuff.center.fixTo(issI.iss);\n            issI.iss.stuff.r = r;\n          }\n        }\n      });\n    };\n    return issI;\n  }\n};\n","module.exports = require(\"core-js/library/fn/get-iterator\");","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n"],"sourceRoot":""}