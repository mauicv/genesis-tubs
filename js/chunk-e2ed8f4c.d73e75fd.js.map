{"version":3,"sources":["webpack:///./src/views/games/template/js/draw.js","webpack:///./src/views/games/template/Game.vue?334a","webpack:///src/views/games/template/Game.vue","webpack:///./src/views/games/template/Game.vue?2bf6","webpack:///./src/views/games/template/Game.vue","webpack:///./src/views/games/template/js/input.js"],"names":["Line","engine","Particle","draw","ctx","enviro","drawCtx","fillStyle","fillRect","canvas","width","height","strokeStyle","constraints","forEach","constraint","visable","beginPath","moveTo","from","x","lineTo","to","stroke","graphics","graphic","arc","Math","PI","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","name","data","canvasTop","canvasLeft","controller","running","finished","input","a","d","w","s","box","center","outerHeight","outerWidth","mounted","setupCanvas","loadEnviroment","createAndstart","beforeDestroy","destroy","methods","document","getElementById","WIDTH","documentElement","clientWidth","HEIGHT","clientHeight","getContext","rect","getBoundingClientRect","top","left","build","handleMouseMove","getCanvasLoc","event","handleMouseClick","clientX","clientY","onkeydown","keyCode","restart","stop","start","onkeyup","createRunner","run","addEventListener","removeEventListener","component","keydown","key","on","keyup"],"mappings":"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","file":"js/chunk-e2ed8f4c.d73e75fd.js","sourcesContent":["import engine from \"genesis-tubs-engine\";\nconst Line = engine.Line;\nconst Particle = engine.Particle;\n\nexport default {\n  draw: function(ctx, enviro) {\n    ctx.drawCtx.fillStyle = \"black\";\n    ctx.drawCtx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    //draw all links...\n    ctx.drawCtx.strokeStyle = \"white\";\n    enviro.constraints.forEach(function(constraint) {\n      if (constraint.visable) {\n        ctx.drawCtx.beginPath();\n        ctx.drawCtx.moveTo(constraint.from.x[0], constraint.from.x[1]);\n        ctx.drawCtx.lineTo(constraint.to.x[0], constraint.to.x[1]);\n        ctx.drawCtx.stroke();\n      }\n    }, ctx);\n\n    // draw all graphics\n    ctx.drawCtx.strokeStyle = \"white\";\n    enviro.graphics.forEach(function(graphic) {\n      if (graphic instanceof Line) {\n        if (graphic.visable) {\n          ctx.drawCtx.beginPath();\n          ctx.drawCtx.moveTo(graphic.from.x[0], graphic.from.x[1]);\n          ctx.drawCtx.lineTo(graphic.to.x[0], graphic.to.x[1]);\n          ctx.drawCtx.stroke();\n        }\n      } else if (graphic instanceof Particle) {\n        ctx.drawCtx.beginPath();\n        ctx.drawCtx.arc(graphic.x[0], graphic.x[1], 1, 0, 2 * Math.PI);\n        ctx.drawCtx.stroke();\n      }\n    }, ctx);\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":\"Canvas\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <canvas id=\"Canvas\" />\n</template>\n\n<script>\nimport builder from \"./js/build.js\";\nimport drawer from \"./js/draw.js\";\nimport input from \"./js/input.js\";\n\nexport default {\n  name: \"asteroids\",\n  data: function() {\n    return {\n      canvas: null,\n      canvasTop: null,\n      canvasLeft: null,\n      drawCtx: null,\n      controller: null,\n      running: false,\n      finished: false,\n      input: {\n        a: { on: false },\n        d: { on: false },\n        w: { on: false },\n        s: { on: false }\n      },\n      box: {\n        center: null,\n        height: null,\n        width: null,\n        outerHeight: null,\n        outerWidth: null\n      }\n    };\n  },\n  mounted() {\n    this.setupCanvas();\n    var enviro = this.loadEnviroment();\n    this.createAndstart(enviro);\n  },\n  beforeDestroy: function() {\n    this.destroy();\n  },\n  methods: {\n    setupCanvas() {\n      var canvas = document.getElementById(\"Canvas\");\n      var WIDTH = document.documentElement.clientWidth;\n      var HEIGHT = document.documentElement.clientHeight;\n      canvas.width = WIDTH;\n      canvas.height = HEIGHT;\n      var drawCtx = canvas.getContext(\"2d\");\n      var rect = canvas.getBoundingClientRect();\n      this.canvas = canvas;\n      this.drawCtx = drawCtx;\n      this.canvasTop = rect.top;\n      this.canvasLeft = rect.left;\n    },\n    loadEnviroment: function() {\n      return builder.createEnvironment(this);\n    },\n    // input methods\n    handleMouseMove(event) {\n      var x = this.getCanvasLoc(event);  // eslint-disable-line\n    },\n    handleMouseClick(event) {\n      var x = this.getCanvasLoc(event); // eslint-disable-line\n    },\n    getCanvasLoc(event) {\n      return {\n        x: [event.clientX - this.canvasLeft, event.clientY - this.canvasTop]\n      };\n    },\n    onkeydown(event) {\n      if (!this.finished) {\n        event.keyCode == 32 && this.running ? this.stop() : this.start();\n        input.keydown(this, event.keyCode);\n      } else {\n        if (event.keyCode == 32) {\n          this.restart();\n          this.finished = false;\n        }\n      }\n    },\n    onkeyup(event) {\n      input.keyup(this, event.keyCode);\n    },\n    // game state methods\n    createAndstart(enviro) {\n      this.controller = this.createRunner(enviro);\n      this.controller.run();\n      this.running = true;\n      document.addEventListener(\"keydown\", this.onkeydown, false);\n      document.addEventListener(\"keyup\", this.onkeyup, false);\n    },\n    restart() {\n      if (this.controller) this.controller.destroy();\n      var enviro = this.loadEnviroment();\n      this.controller = this.createRunner(enviro);\n      this.controller.run();\n      this.running = true;\n    },\n    stop() {\n      if (this.controller) this.controller.stop();\n      this.running = false;\n    },\n    start() {\n      if (this.controller && !this.running) {\n        this.running = true;\n        this.controller.run();\n      }\n    },\n    destroy() {\n      if (this.controller) {\n        this.running = false;\n        this.controller.destroy();\n      }\n      document.removeEventListener(\"keydown\", this.onkeydown, false);\n      document.removeEventListener(\"keyup\", this.onkeyup, false);\n    },\n    createRunner(enviro) {\n      return builder.createRunner(this, enviro);\n    },\n    // drawing\n    draw(enviro) {\n      drawer.draw(this, enviro);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=b836fe54&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  keydown: function(ctx, key) {\n    if (key == 65) {\n      ctx.input.a.on = true;\n    } else if (key == 68) {\n      ctx.input.d.on = true;\n    } else if (key == 87) {\n      ctx.input.w.on = true;\n    } else if (key == 83) {\n      ctx.input.s.on = true;\n    }\n  },\n  keyup: function(ctx, key) {\n    if (key == 65) {\n      ctx.input.a.on = false;\n    } else if (key == 68) {\n      ctx.input.d.on = false;\n    } else if (key == 87) {\n      ctx.input.w.on = false;\n    } else if (key == 83) {\n      ctx.input.s.on = false;\n    }\n  }\n};\n"],"sourceRoot":""}